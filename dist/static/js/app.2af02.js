webpackJsonp([12],{"+mBt":function(t,e){},KwsQ:function(t,e){},NHnr:function(t,e,n){"use strict";function i(t){n("+mBt")}function a(t){n("gg87")}Object.defineProperty(e,"__esModule",{value:!0});var o,s=n("7+uW"),r=n("Dd8w"),u=n.n(r),l=(Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(t){this.$emit("update:show",t)}}}),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.transition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:t.text?"":"vux-loading-no-text"},[n("div",{staticClass:"weui-mask_transparent"}),t._v(" "),n("div",{staticClass:"weui-toast",style:{position:t.position}},[n("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),t.text?n("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2):t._e()])])])},d=[],h={render:c,staticRenderFns:d},m=h,p=n("VU/8"),f=i,v=p(l,m,!1,f,null,null),w=v.exports,g=n("NYxO"),_=(u()({},Object(g.c)({direction:function(t){return t.app.direction},isLoading:function(t){return t.app.isLoading}})),{name:"app",components:{Loading:w},computed:u()({},Object(g.c)({direction:function(t){return t.app.direction},isLoading:function(t){return t.app.isLoading}}))}),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("loading",{model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}),t._v(" "),n("keep-alive",[t.$route.meta.keepAlive?n("router-view"):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():n("router-view")],1)},x=[],y={render:S,staticRenderFns:x},k=y,b=n("VU/8"),T=a,A=b(_,k,!1,T,null,null),E=A.exports,L=n("bOdI"),C=n.n(L),O={state:{iosJsUrl:"",isLoading:!1,isAndroid:!1,direction:"forward"},getters:{},mutations:(o={},C()(o,"SET_WX_JS_URL",function(t,e){t.iosJsUrl=e.iosJsUrl}),C()(o,"UPDATE_LOADING_STATUS",function(t,e){t.isLoading=e.isLoading}),C()(o,"UPDATE_DEVICE",function(t,e){t.isAndroid=e.isAndroid}),C()(o,"UPDATE_DIRECTION",function(t,e){t.direction=e.direction}),o),actions:{}},U=n("Xxa5"),B=n.n(U),I=n("exGp"),D=n.n(I),N=n("//Fk"),$=n.n(N),V=n("mtWM"),P=n.n(V),M=function(t){localStorage.setItem("token",t)},R=function(){var t=localStorage.getItem("token");return t||!1},j=P.a.create({baseURL:"http://api.appyl.net/api/v1",timeout:3e4});j.interceptors.request.use(function(t){var e=R();return e&&(t.headers.common.Authorization="Bearer "+e),t},function(t){return $.a.reject(t)}),j.interceptors.response.use(function(t){var e=t.headers["new-token"];return e&&M(e),t.data},function(t){var e=t.response;return 401===e.status||e.status,$.a.reject(e)});var J,W={post:function(t,e){return j({method:"post",url:t,data:e})},get:function(t,e){return j({method:"get",url:t,params:e})},delete:function(t,e){return j({method:"delete",url:t,params:e})},put:function(t,e){return j({method:"put",url:t,data:e})}},X={list:function(t){return W.get("/order/list",t)},detail:function(t){return W.post("/order/detail/"+t)}},F={doctorList:[],doctorDetail:null},z=(J={},C()(J,"SET_ORDER_LIST",function(t,e){t.doctorList=e}),C()(J,"SET_ORDER_DETAIL",function(t,e){t.doctorDetail=e}),J),Z={getOrderList:function(t,e){var n=this,i=(t.state,t.commit);return D()(B.a.mark(function t(){var a;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.list(e);case 2:a=t.sent,i("SET_ORDER_LIST",a.data.data);case 4:case"end":return t.stop()}},t,n)}))()},getOrderDetail:function(t,e){var n=this,i=(t.state,t.commit);return D()(B.a.mark(function t(){var a;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.detail(e);case 2:a=t.sent,i("SET_ORDER_DETAIL",a.data.data);case 4:case"end":return t.stop()}},t,n)}))()}},G={state:F,actions:Z,mutations:z};s.a.use(g.a);var H=new g.a.Store({state:{},mutations:{},actions:{},modules:{app:O,order:G}}),K=n("mvHQ"),q=n.n(K),Q=n("/ocq"),Y=function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"Zp+1")).then(function(t){return t.default})},tt=function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"DVlz")).then(function(t){return t.default})},et=function(){return n.e(5).then(n.bind(null,"fJ3n")).then(function(t){return t.default})},nt=function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"zKIK")).then(function(t){return t.default})},it=function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"/Sc4")).then(function(t){return t.default})},at=function(){return n.e(9).then(n.bind(null,"xJ89")).then(function(t){return t.default})},ot=function(){return n.e(7).then(n.bind(null,"GFU+")).then(function(t){return t.default})},st=function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"riZx")).then(function(t){return t.default})},rt=function(){return n.e(4).then(n.bind(null,"8BbS")).then(function(t){return t.default})},ut=function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"JXTs")).then(function(t){return t.default})},lt=[{path:"/",name:"tab",redirect:"/classify",component:Y,children:[{path:"/home",name:"home",meta:{title:"首页",keepAlive:!0},component:nt},{path:"/classify",name:"classify",meta:{title:"分类",keepAlive:!1},component:ot},{path:"/shopcar",name:"shopcar",meta:{title:"购物车",keepAlive:!0},component:it},{path:"/my",name:"my",meta:{title:"我的",keepAlive:!0},component:tt}]},{path:"/oauth2",name:"oauth2",meta:{title:"",keepAlive:!1},component:et},{path:"/mycollection",name:"mycollection",meta:{title:"我的收藏",keepAlive:!0},component:st},{path:"/myorderlist",name:"myorderlist",meta:{title:"订单列表",keepAlive:!0},component:at},{path:"/myorderdetail",name:"myorderdetail",meta:{title:"订单详情",keepAlive:!0},component:rt},{path:"/index",name:"index",meta:{title:"首页",keepAlive:!0},component:ut}],ct={oauth2:function(t){return W.get("/apps/oauth2",t)},login:function(t){return W.get("/apps/login",t)},jssdk:function(t){return W.get("/apps/jssdk",t)}},dt=["onMenuShareAppMessage","onMenuShareTimeline"],ht={getJSSDK:function(t){ct.jssdk({url:t}).then(function(t){var e={debug:!1,appId:t.data.app_id,timestamp:t.data.timestamp,nonceStr:t.data.nonce_str,signature:t.data.signature,jsApiList:dt};s.a.wechat.config(e)})},getJSSDKAsync:function(t){return new $.a(function(e){ct.jssdk({url:t}).then(function(t){var n={debug:!1,appId:t.data.app_id,timestamp:t.data.timestamp,nonceStr:t.data.nonce_str,signature:t.data.signature,jsApiList:dt};s.a.wechat.config(n),e()})})},setWxShare:function(t,e,n,i){s.a.wechat.ready(function(){s.a.wechat.onMenuShareAppMessage({title:t,desc:e,link:n,imgUrl:i,success:function(){},cancel:function(){}}),s.a.wechat.onMenuShareTimeline({title:t,desc:e,link:n,imgUrl:i,success:function(){},cancel:function(){}})})}};s.a.use(Q.a);var mt=new Q.a({mode:"history",routes:lt}),pt="classify";mt.beforeEach(function(t,e,n){console.log("to"+q()(t)),H.commit("UPDATE_LOADING_STATUS",{isLoading:!0}),document.title=t.meta.title;if(!s.a.device.isAndroid&&!H.state.app.iosJsUrl){var i=document.URL;t.name===pt&&-1===i.indexOf(pt)&&(i+=pt),H.commit("SET_WX_JS_URL",{iosJsUrl:i})}n()}),mt.afterEach(function(t){H.commit("UPDATE_LOADING_STATUS",{isLoading:!1});window.location.origin,t.fullPath;s.a.device.isAndroid||H.state.app.iosJsUrl.split("#")[0]});var ft=mt,vt=n("v5o6"),wt=n.n(vt),gt=n("Peep"),_t=n("3BeM"),St=n("yD8N"),xt=n("n6Wb"),yt=n("M10M");n("Vt5h");n("hKoQ").polyfill(),s.a.use(St.a),s.a.use(gt.a),s.a.use(_t.a),s.a.use(xt.a),s.a.use(yt.a),wt.a.attach(document.body),s.a.config.productionTip=!1,s.a.prototype.wxShare=ht.setWxShare,new s.a({el:"#app-box",router:ft,store:H,render:function(t){return t(E)},mounted:function(){this.$store.commit("UPDATE_DEVICE",{isAndroid:s.a.device.isAndroid})}})},Vt5h:function(t,e){},gg87:function(t,e){},mzja:function(t,e,n){"use strict";function i(t){n("uzNh")}function a(t){n("vS+b")}var o=n("JkZY"),s=(o.a,Boolean,String,String,Number,String,String,Boolean,Object,Boolean,{mixins:[o.a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(t){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(t){this.$emit("update:show",t),this.$emit(t?"on-show":"on-hide"),t?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var t=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),e=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(t&&e)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===t.layout}},[n("transition",{attrs:{name:t.maskTransition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask",style:t.maskStyle,on:{click:t.hide}})]),t._v(" "),n("transition",{attrs:{name:t.dialogTransition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.dialogClass,style:t.dialogStyle},[t._t("default")],2)])],1)},u=[],l={render:r,staticRenderFns:u},c=l,d=n("VU/8"),h=i,m=d(s,c,!1,h,null,null),p=m.exports,f=(Boolean,String,String,String,Boolean,String,String,Number,String,{name:"alert",components:{XDialog:p},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}}}),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vux-alert"},[n("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){t.$emit("on-hide")},"on-show":function(e){t.$emit("on-show")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[n("div",{staticClass:"weui-dialog__hd"},[n("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"weui-dialog__bd"},[t._t("default",[n("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),n("div",{staticClass:"weui-dialog__ft"},[n("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onHide}},[t._v(t._s(t.buttonText||"确定"))])])])],1)},w=[],g={render:v,staticRenderFns:w},_=g,S=n("VU/8"),x=a,y=S(f,_,!1,x,null,null);e.a=y.exports},rLAy:function(t,e,n){"use strict";function i(t){n("KwsQ")}var a=n("xNvf"),o=(a.a,Boolean,Number,String,String,String,Boolean,String,String,{name:"toast",mixins:[a.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(t){var e=this;t&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1,e.$emit("input",!1),e.$emit("on-hide"),e.fixSafariOverflowScrolling("touch")},this.time))},value:function(t){this.show=t}}}),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vux-toast"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask&&t.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),t._v(" "),n("transition",{attrs:{name:t.currentTransition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-toast",class:t.toastClass,style:{width:t.width}},[n("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==t.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),t._v(" "),t.text?n("p",{staticClass:"weui-toast__content",style:t.style,domProps:{innerHTML:t._s(t.text)}}):n("p",{staticClass:"weui-toast__content",style:t.style},[t._t("default")],2)])])],1)},r=[],u={render:s,staticRenderFns:r},l=u,c=n("VU/8"),d=i,h=c(o,l,!1,d,null,null);e.a=h.exports},uzNh:function(t,e){},"vS+b":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2af02.js.map